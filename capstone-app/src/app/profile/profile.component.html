<div class="app-container">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-logo">
      <img src="/images/angeles_city_logo.png" alt="Logo" />
    </div>

    <a class="side-btn" routerLink="/" routerLinkActive="active">
      <i class="fas fa-house"></i>
      <span>Home</span>
    </a>

    <a class="side-btn" routerLink="/documents" routerLinkActive="active">
      <i class="fas fa-file"></i>
      <span>Documents</span>
    </a>


    <a class="side-btn" routerLink="/profile" routerLinkActive="active">
      <i class="fas fa-user"></i>
      <span>Profile</span>
    </a>
  </aside>


  <div class="profile-page">
    <h2 class="profile-title">Citizen Profile</h2>

    <form class="profile-form" (ngSubmit)="submitProfile()">
      <div class="form-group">
        <label>Last Name</label>
        <input type="text" [(ngModel)]="profile.lastName" name="lastName" required placeholder="Enter last name" />
      </div>
      
      <div class="form-group">
        <label>First Name</label>
        <input type="text" [(ngModel)]="profile.firstName" name="firstName" required placeholder="Enter first name" />
      </div>
      
      <div class="form-group">
        <label>Middle Name</label>
        <input type="text" [(ngModel)]="profile.middleName" name="middleName" placeholder="Enter middle name" />
      </div>
      

      <div class="form-group">
        <label>Birthdate</label>
        <input type="date" [(ngModel)]="profile.birthDate" name="birthDate" required />
      </div>

      <div class="form-group">
        <label>Gender</label>
        <select [(ngModel)]="profile.gender" name="gender" required>
          <option value="">Select gender</option>
          <option>Male</option>
          <option>Female</option>
        </select>
      </div>

      <div class="form-group">
        <label>Address</label>
        <input type="text" [(ngModel)]="profile.address" name="address" required placeholder="Enter address" />
      </div>

      <div class="form-group">
        <label>Contact Number</label>
        <input type="text" [(ngModel)]="profile.contact" name="contact" required placeholder="Enter contact number" />
      </div>

      <div class="form-group">
        <label>Email Address</label>
        <input type="email" [(ngModel)]="profile.email" name="email" required placeholder="Enter email address" />
      </div>

      <div class="form-group password-group">
        <label>New Password</label>
        <input 
          [type]="showNewPassword ? 'text' : 'password'" 
          [(ngModel)]="profile.newPassword" 
          name="newPassword" 
          placeholder="Enter new password" 
        />
        <span class="password-toggle" (click)="showNewPassword = !showNewPassword">
          <i [class]="showNewPassword ? 'fa-solid fa-eye' : 'fa-solid fa-eye-slash'"></i>
        </span>
      </div>

      <div class="form-group password-group">
        <label>Confirm New Password</label>
        <input 
          [type]="showConfirmPassword ? 'text' : 'password'" 
          [(ngModel)]="profile.confirmNewPassword" 
          name="confirmNewPassword" 
          placeholder="Confirm new password" 
        />
        <span class="password-toggle" (click)="showConfirmPassword = !showConfirmPassword">
          <i [class]="showConfirmPassword ? 'fa-solid fa-eye' : 'fa-solid fa-eye-slash'"></i>
        </span>
      </div>

      <button type="submit" class="submit-btn">Save Profile</button>
    </form>

    <!-- DISPLAY RESULT -->
    <div class="profile-summary" *ngIf="submitted">
      <h3>Profile Summary</h3>
      <p><strong>Full Name:</strong> {{ profile.lastName }} {{ profile.firstName }} {{ profile.middleName }}</p>
      <p><strong>Birthdate:</strong> {{ profile.birthDate | date }}</p>
      <p><strong>Gender:</strong> {{ profile.gender }}</p>
      <p><strong>Address:</strong> {{ profile.address }}</p>
      <p><strong>Contact Number:</strong> {{ profile.contact }}</p>
      <p><strong>Email Address:</strong> {{ profile.email }}</p>
      <p><strong>Password:</strong> {{ profile.password }}</p>
      
    </div>
  </div>
</div>
